2025-03-01 00:25:47.468 +05:30 [INF] Starting web host
2025-03-01 00:25:55.609 +05:30 [FTL] Host terminated unexpectedly
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.HttpContextAccessor' while attempting to activate 'Infrastructure.Projections.Grains.ViewProjectionGrain'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at SavingsAccount.Program.Main(String[] args) in /Users/ritikdhiman/Desktop/Code/SavingsAccount/WebApi/Program.cs:line 33
2025-03-01 00:26:16.293 +05:30 [INF] Starting web host
2025-03-01 00:26:23.420 +05:30 [FTL] Host terminated unexpectedly
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Http.HttpContextAccessor' while attempting to activate 'Infrastructure.Projections.Grains.ViewProjectionGrain'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at SavingsAccount.Program.Main(String[] args) in /Users/ritikdhiman/Desktop/Code/SavingsAccount/WebApi/Program.cs:line 33
2025-03-01 00:28:38.982 +05:30 [INF] Starting web host
2025-03-01 00:29:00.544 +05:30 [INF] Now listening on: http://localhost:5000
2025-03-01 00:29:00.552 +05:30 [INF] No valid license could be found. Falling back to trial license with start date '2025-01-12'.
2025-03-01 00:29:00.552 +05:30 [ERR] Trial license expired. Get your free development license at https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 00:29:00.553 +05:30 [WRN] Opening browser to: https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 00:29:00.633 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-03-01 00:29:00.633 +05:30 [INF] Hosting environment: Production
2025-03-01 00:29:00.633 +05:30 [INF] Content root path: /Users/ritikdhiman/Desktop/Code/SavingsAccount/WebApi/bin/Debug/net9.0
2025-03-01 00:29:08.887 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html - null null
2025-03-01 00:29:08.961 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/index.html - 200 null text/html;charset=utf-8 75.7428ms
2025-03-01 00:29:09.010 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.js - null null
2025-03-01 00:29:09.013 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/index.js - 200 null application/javascript;charset=utf-8 4.0737ms
2025-03-01 00:29:09.054 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-03-01 00:29:09.103 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.3732ms
2025-03-01 00:29:29.949 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/savings-account/add-transaction/10/10 - application/json 49
2025-03-01 00:29:29.961 +05:30 [WRN] Failed to determine the https port for redirect.
2025-03-01 00:29:29.991 +05:30 [INF] Executing endpoint 'SavingsAccount.Controllers.SavingsAccountController.AddTransaction (WebApi)'
2025-03-01 00:29:30.014 +05:30 [INF] Route matched with {action = "AddTransaction", controller = "SavingsAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTransaction(Int64, System.String, Application.Requests.AddTransactionRequest) on controller SavingsAccount.Controllers.SavingsAccountController (WebApi).
2025-03-01 00:29:34.769 +05:30 [INF] Transaction added successfully
2025-03-01 00:29:34.774 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-01 00:29:34.820 +05:30 [INF] Executed action SavingsAccount.Controllers.SavingsAccountController.AddTransaction (WebApi) in 4759.9236ms
2025-03-01 00:29:34.860 +05:30 [INF] Executed endpoint 'SavingsAccount.Controllers.SavingsAccountController.AddTransaction (WebApi)'
2025-03-01 00:29:34.876 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/savings-account/add-transaction/10/10 - 200 0 null 4926.9843ms
2025-03-01 00:29:34.910 +05:30 [ERR] Error processing events for tenant 10
System.ArgumentNullException: Value cannot be null. (Parameter 'databaseName')
   at MongoDB.Driver.Core.Misc.Ensure.IsNotNull[T](T value, String paramName)
   at MongoDB.Driver.DatabaseNamespace..ctor(String databaseName)
   at MongoDB.Driver.MongoClient.GetDatabase(String name, MongoDatabaseSettings settings)
   at Projections.MongoContext.ConfigureMongo() in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Projections/MongoContext.cs:line 59
   at Projections.MongoContext.GetCollection[T]() in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Projections/MongoContext.cs:line 34
   at Infrastructure.Projections.ApplicationViewCheckpointStore.GetCheckpoint(Int64 tenantId) in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Infrastructure/Projections/ApplicationViewCheckpointStore.cs:line 26
   at Infrastructure.Projections.Grains.ViewProjectionGrain.ProcessEvents(CancellationTokenSource grainCancellationToken) in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Infrastructure/Projections/Grains/ViewProjectionGrain.cs:line 54
   at Infrastructure.Projections.TenantViewProjection.ProcessEvents(String tenantId) in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Infrastructure/Projections/TenantViewProjection.cs:line 34
2025-03-01 00:29:34.933 +05:30 [ERR] Your license has expired
2025-03-01 00:29:34.955 +05:30 [INF] Handling command add transaction
2025-03-01 00:29:35.217 +05:30 [INF] Transaction Credit has been successfully added
2025-03-01 00:30:14.663 +05:30 [ERR] Error processing events for tenant 10
System.NullReferenceException: Object reference not set to an instance of an object.
   at Projections.MongoContext.GetCollection[T]() in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Projections/MongoContext.cs:line 41
   at Infrastructure.Projections.ApplicationViewCheckpointStore.GetCheckpoint(Int64 tenantId) in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Infrastructure/Projections/ApplicationViewCheckpointStore.cs:line 26
   at Infrastructure.Projections.Grains.ViewProjectionGrain.ProcessEvents(CancellationTokenSource grainCancellationToken) in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Infrastructure/Projections/Grains/ViewProjectionGrain.cs:line 54
   at Infrastructure.Projections.TenantViewProjection.ProcessEvents(String tenantId) in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Infrastructure/Projections/TenantViewProjection.cs:line 34
2025-03-01 00:30:56.239 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/savings-account/add-transaction/10/10 - application/json 49
2025-03-01 00:30:56.269 +05:30 [INF] Executing endpoint 'SavingsAccount.Controllers.SavingsAccountController.AddTransaction (WebApi)'
2025-03-01 00:30:56.271 +05:30 [INF] Route matched with {action = "AddTransaction", controller = "SavingsAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTransaction(Int64, System.String, Application.Requests.AddTransactionRequest) on controller SavingsAccount.Controllers.SavingsAccountController (WebApi).
2025-03-01 00:30:56.281 +05:30 [INF] Transaction added successfully
2025-03-01 00:30:56.282 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-01 00:30:56.283 +05:30 [INF] Executed action SavingsAccount.Controllers.SavingsAccountController.AddTransaction (WebApi) in 11.7021ms
2025-03-01 00:30:56.283 +05:30 [INF] Executed endpoint 'SavingsAccount.Controllers.SavingsAccountController.AddTransaction (WebApi)'
2025-03-01 00:30:56.284 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/savings-account/add-transaction/10/10 - 200 0 null 44.6424ms
2025-03-01 00:30:58.108 +05:30 [ERR] Your license has expired
2025-03-01 00:30:58.110 +05:30 [INF] Handling command add transaction
2025-03-01 00:30:58.449 +05:30 [INF] Transaction Credit has been successfully added
2025-03-01 00:33:09.306 +05:30 [INF] Starting web host
2025-03-01 00:33:20.876 +05:30 [INF] Now listening on: http://localhost:5000
2025-03-01 00:33:20.880 +05:30 [INF] No valid license could be found. Falling back to trial license with start date '2025-01-12'.
2025-03-01 00:33:20.881 +05:30 [ERR] Trial license expired. Get your free development license at https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 00:33:20.881 +05:30 [WRN] Opening browser to: https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 00:33:27.531 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-03-01 00:33:27.532 +05:30 [INF] Hosting environment: Production
2025-03-01 00:33:27.532 +05:30 [INF] Content root path: /Users/ritikdhiman/Desktop/Code/SavingsAccount/WebApi/bin/Debug/net9.0
2025-03-01 00:33:50.370 +05:30 [INF] Starting web host
2025-03-01 00:34:06.891 +05:30 [INF] Now listening on: http://localhost:5000
2025-03-01 00:34:06.894 +05:30 [INF] No valid license could be found. Falling back to trial license with start date '2025-01-12'.
2025-03-01 00:34:06.894 +05:30 [ERR] Trial license expired. Get your free development license at https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 00:34:06.894 +05:30 [WRN] Opening browser to: https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 00:34:21.293 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html - null null
2025-03-01 00:34:21.315 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-03-01 00:34:21.315 +05:30 [INF] Hosting environment: Production
2025-03-01 00:34:21.315 +05:30 [INF] Content root path: /Users/ritikdhiman/Desktop/Code/SavingsAccount/WebApi/bin/Debug/net9.0
2025-03-01 00:34:21.339 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/index.html - 200 null text/html;charset=utf-8 47.7269ms
2025-03-01 00:34:21.383 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.js - null null
2025-03-01 00:34:21.384 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/index.js - 200 null application/javascript;charset=utf-8 2.4934ms
2025-03-01 00:34:21.425 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-03-01 00:34:21.467 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.5947ms
2025-03-01 00:34:39.050 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/savings-account/add-transaction/10/10 - application/json 49
2025-03-01 00:38:42.007 +05:30 [INF] Starting web host
2025-03-01 00:38:44.439 +05:30 [INF] Now listening on: http://localhost:5000
2025-03-01 00:38:44.442 +05:30 [INF] No valid license could be found. Falling back to trial license with start date '2025-01-12'.
2025-03-01 00:38:44.442 +05:30 [ERR] Trial license expired. Get your free development license at https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 00:38:44.442 +05:30 [WRN] To extend your trial license, visit: https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 00:38:44.514 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-03-01 00:38:44.514 +05:30 [INF] Hosting environment: Production
2025-03-01 00:38:44.514 +05:30 [INF] Content root path: /Users/ritikdhiman/Desktop/Code/SavingsAccount/WebApi/bin/Debug/net9.0
2025-03-01 00:38:49.635 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html - null null
2025-03-01 00:38:49.694 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/index.html - 200 null text/html;charset=utf-8 59.8017ms
2025-03-01 00:38:49.732 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.js - null null
2025-03-01 00:38:49.733 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/index.js - 200 null application/javascript;charset=utf-8 1.7279ms
2025-03-01 00:38:49.908 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-03-01 00:38:49.946 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 38.049ms
2025-03-01 00:39:01.956 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup - null 0
2025-03-01 00:39:01.963 +05:30 [WRN] Failed to determine the https port for redirect.
2025-03-01 00:39:01.978 +05:30 [INF] Executing endpoint 'SavingsAccount.Controllers.SetupController.Setup (WebApi)'
2025-03-01 00:39:02.008 +05:30 [INF] Route matched with {action = "Setup", controller = "Setup"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Setup() on controller SavingsAccount.Controllers.SetupController (WebApi).
2025-03-01 00:39:02.017 +05:30 [INF] Using HTTP uri: http://localhost:2113
2025-03-01 00:39:02.020 +05:30 [INF] Start processing HTTP request GET http://localhost:2113/Projections/Bank.SavingsAccountProjection
2025-03-01 00:39:02.020 +05:30 [INF] Sending HTTP request GET http://localhost:2113/Projections/Bank.SavingsAccountProjection
2025-03-01 00:39:02.080 +05:30 [INF] Received HTTP response headers after 58.7581ms - 404
2025-03-01 00:39:02.081 +05:30 [INF] End processing HTTP request after 61.9697ms - 404
2025-03-01 00:39:02.082 +05:30 [INF] projection Bank.SavingsAccountProjection does not exists, Creating projection.......
2025-03-01 00:39:02.083 +05:30 [INF] Start processing HTTP request POST http://localhost:2113/projections/continuous?*
2025-03-01 00:39:02.083 +05:30 [INF] Sending HTTP request POST http://localhost:2113/projections/continuous?*
2025-03-01 00:39:02.643 +05:30 [INF] Received HTTP response headers after 559.7894ms - 201
2025-03-01 00:39:02.643 +05:30 [INF] End processing HTTP request after 560.2728ms - 201
2025-03-01 00:39:02.646 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-01 00:39:02.647 +05:30 [INF] Executed action SavingsAccount.Controllers.SetupController.Setup (WebApi) in 636.9868ms
2025-03-01 00:39:02.647 +05:30 [INF] Executed endpoint 'SavingsAccount.Controllers.SetupController.Setup (WebApi)'
2025-03-01 00:39:02.648 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup - 200 0 null 692.4455ms
2025-03-01 00:39:18.240 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/savings-account/create - application/json 80
2025-03-01 00:39:18.247 +05:30 [INF] Executing endpoint 'SavingsAccount.Controllers.SavingsAccountController.CreateSavingsAccount (WebApi)'
2025-03-01 00:39:18.260 +05:30 [INF] Route matched with {action = "CreateSavingsAccount", controller = "SavingsAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSavingsAccount(Application.Requests.CreateSavingsAccountRequest) on controller SavingsAccount.Controllers.SavingsAccountController (WebApi).
2025-03-01 00:39:18.362 +05:30 [INF] Savings account created successfully
2025-03-01 00:39:18.362 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-01 00:39:18.362 +05:30 [INF] Executed action SavingsAccount.Controllers.SavingsAccountController.CreateSavingsAccount (WebApi) in 101.7681ms
2025-03-01 00:39:18.362 +05:30 [INF] Executed endpoint 'SavingsAccount.Controllers.SavingsAccountController.CreateSavingsAccount (WebApi)'
2025-03-01 00:39:18.362 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/savings-account/create - 200 0 null 124.0117ms
2025-03-01 00:39:18.391 +05:30 [INF] Creating saving account
2025-03-01 00:39:18.485 +05:30 [INF] SavingsAccount created successfully
2025-03-01 00:39:18.931 +05:30 [ERR] Error processing events for tenant 10
System.ArgumentNullException: Value cannot be null. (Parameter 'databaseName')
   at MongoDB.Driver.Core.Misc.Ensure.IsNotNull[T](T value, String paramName)
   at MongoDB.Driver.DatabaseNamespace..ctor(String databaseName)
   at MongoDB.Driver.MongoClient.GetDatabase(String name, MongoDatabaseSettings settings)
   at Projections.MongoContext.ConfigureMongo() in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Projections/MongoContext.cs:line 59
   at Projections.MongoContext.GetCollection[T]() in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Projections/MongoContext.cs:line 34
   at Infrastructure.Projections.ApplicationViewCheckpointStore.GetCheckpoint(Int64 tenantId) in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Infrastructure/Projections/ApplicationViewCheckpointStore.cs:line 26
   at Infrastructure.Projections.Grains.ViewProjectionGrain.ProcessEvents(CancellationTokenSource grainCancellationToken) in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Infrastructure/Projections/Grains/ViewProjectionGrain.cs:line 52
   at Infrastructure.Projections.TenantViewProjection.ProcessEvents(String tenantId) in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Infrastructure/Projections/TenantViewProjection.cs:line 34
2025-03-01 00:39:30.046 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html - null null
2025-03-01 00:39:30.063 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/index.html - 200 null text/html;charset=utf-8 15.3444ms
2025-03-01 00:39:30.078 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.js - null null
2025-03-01 00:39:30.101 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/index.js - 200 null application/javascript;charset=utf-8 22.8786ms
2025-03-01 00:39:30.246 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-03-01 00:39:30.259 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.6261ms
2025-03-01 00:39:50.673 +05:30 [INF] Application is stopping. Cancelling event processing.
2025-03-01 00:39:50.677 +05:30 [INF] Application is shutting down...
2025-03-01 00:39:50.681 +05:30 [FTL] An error occurred stopping the application
System.AggregateException: One or more errors occurred. (The CancellationTokenSource has been disposed.)
 ---> System.ObjectDisposedException: The CancellationTokenSource has been disposed.
   at System.Threading.CancellationTokenSource.Cancel()
   at Infrastructure.Projections.TenantViewProjection.<>c__DisplayClass4_0.<ProcessEvents>b__0() in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Infrastructure/Projections/TenantViewProjection.cs:line 29
   at System.Threading.CancellationTokenSource.Invoke(Delegate d, Object state, CancellationTokenSource source)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.CancellationTokenSource.ExecuteCallbackHandlers(Boolean throwOnFirstException)
   --- End of inner exception stack trace ---
   at System.Threading.CancellationTokenSource.ExecuteCallbackHandlers(Boolean throwOnFirstException)
   at Microsoft.Extensions.Hosting.Internal.ApplicationLifetime.StopApplication()
2025-03-01 00:39:50.687 +05:30 [INF] Initiating shutdown.
2025-03-01 00:39:50.692 +05:30 [INF] Shutdown complete.
2025-03-01 00:39:58.689 +05:30 [INF] Starting web host
2025-03-01 00:40:20.096 +05:30 [INF] Now listening on: http://localhost:5000
2025-03-01 00:40:20.101 +05:30 [INF] No valid license could be found. Falling back to trial license with start date '2025-01-12'.
2025-03-01 00:40:20.101 +05:30 [ERR] Trial license expired. Get your free development license at https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 00:40:20.101 +05:30 [WRN] Opening browser to: https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 00:40:26.409 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-03-01 00:40:26.409 +05:30 [INF] Hosting environment: Production
2025-03-01 00:40:26.410 +05:30 [INF] Content root path: /Users/ritikdhiman/Desktop/Code/SavingsAccount/WebApi/bin/Debug/net9.0
2025-03-01 00:56:02.730 +05:30 [INF] Starting web host
2025-03-01 00:56:05.224 +05:30 [INF] Now listening on: http://localhost:5000
2025-03-01 00:56:05.228 +05:30 [INF] No valid license could be found. Falling back to trial license with start date '2025-01-12'.
2025-03-01 00:56:05.228 +05:30 [ERR] Trial license expired. Get your free development license at https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 00:56:05.228 +05:30 [WRN] To extend your trial license, visit: https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 00:56:05.324 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-03-01 00:56:05.325 +05:30 [INF] Hosting environment: Production
2025-03-01 00:56:05.325 +05:30 [INF] Content root path: /Users/ritikdhiman/Desktop/Code/SavingsAccount/WebApi/bin/Debug/net9.0
2025-03-01 00:56:16.651 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html - null null
2025-03-01 00:56:16.745 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/index.html - 200 null text/html;charset=utf-8 97.398ms
2025-03-01 00:56:17.821 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.js - null null
2025-03-01 00:56:18.058 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/index.js - 200 null application/javascript;charset=utf-8 238.2315ms
2025-03-01 00:56:18.358 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-03-01 00:56:18.563 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 205.8071ms
2025-03-01 00:56:22.690 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/setup - null 0
2025-03-01 00:56:22.699 +05:30 [WRN] Failed to determine the https port for redirect.
2025-03-01 00:56:22.723 +05:30 [INF] Executing endpoint 'SavingsAccount.Controllers.SetupController.Setup (WebApi)'
2025-03-01 00:56:22.737 +05:30 [INF] Route matched with {action = "Setup", controller = "Setup"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Setup() on controller SavingsAccount.Controllers.SetupController (WebApi).
2025-03-01 00:56:22.741 +05:30 [INF] Using HTTP uri: http://localhost:2113
2025-03-01 00:56:22.744 +05:30 [INF] Start processing HTTP request GET http://localhost:2113/Projections/Bank.SavingsAccountProjection
2025-03-01 00:56:22.745 +05:30 [INF] Sending HTTP request GET http://localhost:2113/Projections/Bank.SavingsAccountProjection
2025-03-01 00:56:22.790 +05:30 [INF] Received HTTP response headers after 43.9768ms - 404
2025-03-01 00:56:22.791 +05:30 [INF] End processing HTTP request after 47.4438ms - 404
2025-03-01 00:56:22.791 +05:30 [INF] projection Bank.SavingsAccountProjection does not exists, Creating projection.......
2025-03-01 00:56:22.792 +05:30 [INF] Start processing HTTP request POST http://localhost:2113/projections/continuous?*
2025-03-01 00:56:22.792 +05:30 [INF] Sending HTTP request POST http://localhost:2113/projections/continuous?*
2025-03-01 00:56:23.390 +05:30 [INF] Received HTTP response headers after 597.3921ms - 201
2025-03-01 00:56:23.391 +05:30 [INF] End processing HTTP request after 598.945ms - 201
2025-03-01 00:56:23.394 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-01 00:56:23.397 +05:30 [INF] Executed action SavingsAccount.Controllers.SetupController.Setup (WebApi) in 657.4021ms
2025-03-01 00:56:23.397 +05:30 [INF] Executed endpoint 'SavingsAccount.Controllers.SetupController.Setup (WebApi)'
2025-03-01 00:56:23.398 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/setup - 200 0 null 707.8442ms
2025-03-01 00:56:25.879 +05:30 [INF] Application is shutting down...
2025-03-01 00:56:25.882 +05:30 [INF] Initiating shutdown.
2025-03-01 00:56:25.885 +05:30 [INF] Shutdown complete.
2025-03-01 00:56:32.379 +05:30 [INF] Starting web host
2025-03-01 00:56:45.161 +05:30 [INF] Now listening on: http://localhost:5000
2025-03-01 00:56:45.165 +05:30 [INF] No valid license could be found. Falling back to trial license with start date '2025-01-12'.
2025-03-01 00:56:45.165 +05:30 [ERR] Trial license expired. Get your free development license at https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 00:56:45.165 +05:30 [WRN] Opening browser to: https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 00:56:50.735 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-03-01 00:56:50.736 +05:30 [INF] Hosting environment: Production
2025-03-01 00:56:50.737 +05:30 [INF] Content root path: /Users/ritikdhiman/Desktop/Code/SavingsAccount/WebApi/bin/Debug/net9.0
2025-03-01 00:56:54.887 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/savings-account/create - application/json 78
2025-03-01 00:56:54.914 +05:30 [WRN] Failed to determine the https port for redirect.
2025-03-01 00:56:54.930 +05:30 [INF] Executing endpoint 'SavingsAccount.Controllers.SavingsAccountController.CreateSavingsAccount (WebApi)'
2025-03-01 00:56:54.961 +05:30 [INF] Route matched with {action = "CreateSavingsAccount", controller = "SavingsAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSavingsAccount(Application.Requests.CreateSavingsAccountRequest) on controller SavingsAccount.Controllers.SavingsAccountController (WebApi).
2025-03-01 00:56:56.921 +05:30 [INF] Savings account created successfully
2025-03-01 00:56:56.924 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-01 00:56:56.926 +05:30 [INF] Executed action SavingsAccount.Controllers.SavingsAccountController.CreateSavingsAccount (WebApi) in 1963.5729ms
2025-03-01 00:56:56.932 +05:30 [INF] Executed endpoint 'SavingsAccount.Controllers.SavingsAccountController.CreateSavingsAccount (WebApi)'
2025-03-01 00:56:56.934 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/savings-account/create - 200 0 null 2049.8037ms
2025-03-01 00:56:56.942 +05:30 [ERR] Your license has expired
2025-03-01 00:56:56.952 +05:30 [INF] Creating saving account
2025-03-01 00:56:57.226 +05:30 [INF] SavingsAccount created successfully
2025-03-01 00:58:09.601 +05:30 [INF] Starting web host
2025-03-01 00:58:21.575 +05:30 [INF] Now listening on: http://localhost:5000
2025-03-01 00:58:21.578 +05:30 [INF] No valid license could be found. Falling back to trial license with start date '2025-01-12'.
2025-03-01 00:58:21.578 +05:30 [ERR] Trial license expired. Get your free development license at https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 00:58:21.578 +05:30 [WRN] Opening browser to: https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 00:58:27.079 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-03-01 00:58:27.080 +05:30 [INF] Hosting environment: Production
2025-03-01 00:58:27.080 +05:30 [INF] Content root path: /Users/ritikdhiman/Desktop/Code/SavingsAccount/WebApi/bin/Debug/net9.0
2025-03-01 00:59:04.563 +05:30 [ERR] Error processing events for tenant 10
System.NullReferenceException: Object reference not set to an instance of an object.
   at Infrastructure.Projections.Grains.ViewProjectionGrain.ProcessEvents(CancellationTokenSource grainCancellationToken) in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Infrastructure/Projections/Grains/ViewProjectionGrain.cs:line 72
   at Infrastructure.Projections.TenantViewProjection.ProcessEvents(String tenantId) in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Infrastructure/Projections/TenantViewProjection.cs:line 34
2025-03-01 01:21:51.025 +05:30 [INF] Starting web host
2025-03-01 01:21:58.711 +05:30 [INF] Now listening on: http://localhost:5000
2025-03-01 01:21:58.721 +05:30 [INF] No valid license could be found. Falling back to trial license with start date '2025-01-12'.
2025-03-01 01:21:58.722 +05:30 [ERR] Trial license expired. Get your free development license at https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 01:21:58.722 +05:30 [WRN] Opening browser to: https://particular.net/license/nservicebus?v=9.2.3&t=0&p=macos&f=9
2025-03-01 01:21:58.912 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-03-01 01:21:58.913 +05:30 [INF] Hosting environment: Production
2025-03-01 01:21:58.913 +05:30 [INF] Content root path: /Users/ritikdhiman/Desktop/Code/SavingsAccount/WebApi/bin/Debug/net9.0
2025-03-01 01:22:00.308 +05:30 [ERR] Error processing events for tenant 10
System.NullReferenceException: Object reference not set to an instance of an object.
   at Infrastructure.Projections.Grains.ViewProjectionGrain.ProcessEvents(CancellationTokenSource grainCancellationToken, String tenantId) in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Infrastructure/Projections/Grains/ViewProjectionGrain.cs:line 71
   at Infrastructure.Projections.TenantViewProjection.ProcessEvents(String tenantId) in /Users/ritikdhiman/Desktop/Code/SavingsAccount/Infrastructure/Projections/TenantViewProjection.cs:line 34
